"use strict";(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[289],{6289:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(2791),r=n(7689),o=n(3239),s=n(697),i=n(9218),c=n(4294),l=n(184);const u=e=>{let{onSearch:t}=e;const[n,r]=(0,a.useState)("");return(0,a.useEffect)((()=>{t(n)}),[n,t]),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Z,{label:"Search by name Pokemon",variant:"outlined",value:n,onChange:e=>r(e.target.value)}),(0,l.jsx)(c.Z,{variant:"outlined",onClick:()=>{r("")},disabled:!n.trim(),children:"Clear"})]})};var d=n(8193);const p=e=>{let{totalItems:t,currentPage:n,setCurrentPage:a,pageSize:r,setPageSize:o}=e;return(0,l.jsx)(d.Z,{component:"div",count:t,page:n,onPageChange:(e,t)=>a(t),rowsPerPage:r,onRowsPerPageChange:e=>{o(parseInt(e.target.value,10)),a(0)},rowsPerPageOptions:[10,20,50]})};var h=n(1889),m=n(7621),k=n(9504),g=n(2169),v=n(890),x=n(6647),f=n(1918);const y=e=>{switch(e){case"normal":return"gray";case"fighting":return"red";case"flying":return"deepskyblue";case"poison":return"green";case"ground":return"khaki";case"rock":return"burlywood";case"bug":return"darkgreen";case"ghost":case"unknown":return"lightgray";case"steel":return"silver";case"fire":return"orangered";case"water":return"bluegreen";case"grass":return"lightgreen";case"electric":return"lightskyblue";case"psychic":return"purple";case"ice":return"lightblue";case"dragon":return"darkred";case"dark":return"darkgray";case"fairy":return"pink";case"shadow":return"darkviolet";default:return"black"}};const j=function(e){var t,n,a,r,o;let{pokemon:s,index:i,onTypeClick:c,handlePokemonClick:u}=e;return(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(m.Z,{sx:{maxWidth:345},onClick:()=>u(s.id),children:(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(g.Z,{component:"img",width:"140",alt:s.name,src:(null===(t=s.sprites)||void 0===t||null===(n=t.other)||void 0===n||null===(a=n.home)||void 0===a?void 0:a.front_default)||""}),(0,l.jsxs)(k.Z,{children:[(0,l.jsx)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:s.name}),(0,l.jsx)("strong",{children:"Stats:"}),null===(r=s.stats)||void 0===r?void 0:r.map((e=>(0,l.jsxs)("div",{children:[e.stat.name,": ",e.base_stat]},e.stat.name))),(0,l.jsx)("strong",{children:"Types:"}),null===(o=s.types)||void 0===o?void 0:o.map((e=>(0,l.jsx)(f.Z,{label:e.type.name,color:"primary",sx:{backgroundColor:y(e.type.name)},onClick:t=>{t.stopPropagation(),(e=>{c(e)})(e.type.name)}},e.type.name)))]})]})})},i)},w=e=>{let{pokemonList:t,handleTypeClick:n,handlePokemonClick:a}=e;return(0,l.jsx)(h.ZP,{container:!0,spacing:2,children:t.map(((e,t)=>(0,l.jsx)(j,{pokemon:e,index:t,onTypeClick:n,handlePokemonClick:a},e.id||t)))})},P=e=>{let{searchItemType:t,setSearchItemType:n,navigate:r,fetchPokemonData:o}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Z,{variant:"outlined",value:t,InputProps:{readOnly:!0}}),(0,l.jsx)(c.Z,{variant:"outlined",onClick:()=>{(0,a.startTransition)((()=>{n(""),o("https://pokeapi.co/api/v2/pokemon"),r("/")}))},children:"Clear filter"})]})},C=()=>{const[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(10),[c,d]=(0,a.useState)(0),[h,m]=(0,a.useState)(0),[k,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),{type:f}=(0,r.UO)(),y=(0,r.s0)(),[j,C]=(0,a.useState)(!0),S=(0,a.useRef)(0);(0,a.useEffect)((()=>{const e=()=>{S.current=window.scrollY};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const b=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;C(!0);try{let r="".concat(e,"?offset=").concat(n*a,"&limit=").concat(a);k&&(r="https://pokeapi.co/api/v2/pokemon/".concat(k));const o=await fetch(r),s=await o.json();if(s.results){const e=s.results.map((async e=>{const t=await fetch(e.url);return await t.json()})),n=await Promise.all(e);t(n),m(s.count)}else t([s]),m(0)}catch(r){console.error("Error fetching Pokemon data:",r)}C(!1)},Z=async e=>{C(!0),x(e);try{const n=await fetch("https://pokeapi.co/api/v2/type/".concat(e)),a=await n.json();if(a.pokemon){const e=a.pokemon.map((async e=>{const t=await fetch(e.pokemon.url);return await t.json()})),n=await Promise.all(e);t(n),m(a.pokemon.length),d(0)}else console.error("No pokemon found for the type:",e)}catch(n){console.error("Error fetching Pokemon data by type:",n)}C(!1)};return(0,a.useEffect)((()=>{b("https://pokeapi.co/api/v2/pokemon",c,n)}),[c,n,k]),(0,a.useEffect)((()=>{f?Z(f):b("https://pokeapi.co/api/v2/pokemon",c,n)}),[f,c,n]),(0,a.useEffect)((()=>{window.scrollTo(0,S.current)}),[e]),(0,l.jsxs)("div",{children:[v?(0,l.jsx)("div",{className:"pagination-container",children:(0,l.jsx)(P,{searchItemType:v,setSearchItemType:x,navigate:y,fetchPokemonData:b})}):(0,l.jsxs)("div",{className:"pagination-container",children:[(0,l.jsx)(u,{onSearch:e=>{g(e)}}),(0,l.jsx)(p,{totalItems:h,currentPage:c,setCurrentPage:d,pageSize:n,setPageSize:i})]}),(0,l.jsx)("div",{className:"pokemons-container",children:j?(0,l.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,l.jsx)(o.Z,{})}):(0,l.jsx)(w,{pokemonList:e,handleTypeClick:Z,handlePokemonClick:e=>{(0,a.startTransition)((()=>{y("/pokemon/".concat(e))}))}})})]})},S=()=>(0,l.jsx)("div",{children:(0,l.jsx)(C,{})})}}]);
//# sourceMappingURL=289.f60be04d.chunk.js.map